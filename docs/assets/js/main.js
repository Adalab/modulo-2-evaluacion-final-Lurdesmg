"use strict";const inputSearch=document.querySelector(".js-search"),btnSubmit=document.querySelector(".js-submit"),btnReset=document.querySelector(".js-reset"),listCocktail=document.querySelector(".js-list"),favList=document.querySelector(".js-favourites"),url="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=",emptyImage="https://via.placeholder.com/210x295/ffffff/666666/?text=No-Image";let listCocktailsData=[],listFavouritesData=[];function handleSubmit(t){t.preventDefault();const e=inputSearch.value;fetch(`${url}${e}`).then(t=>t.json()).then(t=>{listCocktailsData=t.drinks.map(t=>({id:t.idDrink,name:t.strDrink,image:checkImage(t.strDrinkThumb)})),renderListCocktails(listCocktailsData)})}function checkImage(t){return t||emptyImage}function renderListCocktails(t){listCocktail.innerHTML="";for(const e of t)listCocktail.innerHTML+=renderCocktail(e);addEventToCocktail()}function renderCocktail(t){return`<li>\n    <article class="js-li-cocktail list_item" id=${t.id}>\n    <img class="list_item-img" src="${t.image}" alt="${t.name}">\n    <h3 class="list_item-name">${t.name}</h3>\n    </article>\n    </li>`}function renderFavouriteList(t){favList.innerHTML="";for(const e of t)favList.innerHTML+=renderFavouritCocktail(e);removeEventCocktail()}function renderFavouritCocktail(t){return`<li>\n    <article class="js-li-cocktail list_itemFav" id=${t.id}>\n    <img class="list_itemFav-img" src="${t.image}" alt="${t.name}">\n    <h3 class="list_itemFav-name">${t.name}</h3>\n    <span class="js-removeCocktel xmark" id=${t.id}><i class="fa-solid fa-circle-xmark"></i></span>\n    </article>\n    </li>`}function handleClick(t){t.currentTarget.classList.toggle("selected");const e=t.currentTarget.id,i=listCocktailsData.find(t=>t.id===e),a=listFavouritesData.findIndex(t=>t.id===e);-1===a?listFavouritesData.push(i):listFavouritesData.splice(a,1),
//! LLamar a la funcion de guardar en el localStorage y mandar listFavouritesData
localStorage.setItem("favouriteCocktails",JSON.stringify(listFavouritesData)),renderFavouriteList(listFavouritesData)}function getFavouriteData(){const t=JSON.parse(localStorage.getItem("favouriteCocktails"));t&&(listFavouritesData=t,renderFavouriteList(listFavouritesData))}function removeEventCocktail(){const t=document.querySelectorAll(".js-removeCocktel");for(const e of t)e.addEventListener("click",handleClick)}function addEventToCocktail(){const t=document.querySelectorAll(".js-li-cocktail");for(const e of t)e.addEventListener("click",handleClick)}function handleReset(t){inputSearch.value="",listCocktail.innerHTML=""}
//! Llamada del localStorage (con sus datos guardados SI los hay!)
getFavouriteData(),btnSubmit.addEventListener("click",handleSubmit),btnReset.addEventListener("click",handleReset);